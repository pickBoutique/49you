var xd=function(){var O,o,p,n;function ua(a,b){var c=document.createElement("script");c.type="text/javascript";c.async=!0;var d=!1;c.onreadystatechange=function(){if(("loaded"==this.readyState||"complete"==this.readyState)&&!d)d=!0,b()};c.onload=b;c.src=a;var h=document.getElementsByTagName("script")[0];h.parentNode.insertBefore(c,h)}function j(a,b){return{valid:a,msg:b}}function va(a){var b;b=[];b=a.split("");if(null=={11:"\u5317\u4eac",12:"\u5929\u6d25",13:"\u6cb3\u5317",14:"\u5c71\u897f",15:"\u5185\u8499\u53e4",
21:"\u8fbd\u5b81",22:"\u5409\u6797",23:"\u9ed1\u9f99\u6c5f",31:"\u4e0a\u6d77",32:"\u6c5f\u82cf",33:"\u6d59\u6c5f",34:"\u5b89\u5fbd",35:"\u798f\u5efa",36:"\u6c5f\u897f",37:"\u5c71\u4e1c",41:"\u6cb3\u5357",42:"\u6e56\u5317",43:"\u6e56\u5357",44:"\u5e7f\u4e1c",45:"\u5e7f\u897f",46:"\u6d77\u5357",50:"\u91cd\u5e86",51:"\u56db\u5ddd",52:"\u8d35\u5dde",53:"\u4e91\u5357",54:"\u897f\u85cf",61:"\u9655\u897f",62:"\u7518\u8083",63:"\u9752\u6d77",64:"\u5b81\u590f",65:"\u65b0\u7586",71:"\u53f0\u6e7e",81:"\u9999\u6e2f",
82:"\u6fb3\u95e8",91:"\u56fd\u5916"}[parseInt(a.substr(0,2))])return!1;switch(a.length){case 15:return ereg=0==(parseInt(a.substr(6,2))+1900)%4||0==(parseInt(a.substr(6,2))+1900)%100&&0==(parseInt(a.substr(6,2))+1900)%4?/^[1-9][0-9]{5}[0-9]{2}((01|03|05|07|08|10|12)(0[1-9]|[1-2][0-9]|3[0-1])|(04|06|09|11)(0[1-9]|[1-2][0-9]|30)|02(0[1-9]|[1-2][0-9]))[0-9]{3}$/:/^[1-9][0-9]{5}[0-9]{2}((01|03|05|07|08|10|12)(0[1-9]|[1-2][0-9]|3[0-1])|(04|06|09|11)(0[1-9]|[1-2][0-9]|30)|02(0[1-9]|1[0-9]|2[0-8]))[0-9]{3}$/,
ereg.test(a)?!0:!1;case 18:ereg=0==parseInt(a.substr(6,4))%4||0==parseInt(a.substr(6,4))%100&&0==parseInt(a.substr(6,4))%4?/^[1-9][0-9]{5}19[0-9]{2}((01|03|05|07|08|10|12)(0[1-9]|[1-2][0-9]|3[0-1])|(04|06|09|11)(0[1-9]|[1-2][0-9]|30)|02(0[1-9]|[1-2][0-9]))[0-9]{3}[0-9Xx]$/:/^[1-9][0-9]{5}19[0-9]{2}((01|03|05|07|08|10|12)(0[1-9]|[1-2][0-9]|3[0-1])|(04|06|09|11)(0[1-9]|[1-2][0-9]|30)|02(0[1-9]|1[0-9]|2[0-8]))[0-9]{3}[0-9Xx]$/;return ereg.test(a)?(a=7*(parseInt(b[0])+parseInt(b[10]))+9*(parseInt(b[1])+
parseInt(b[11]))+10*(parseInt(b[2])+parseInt(b[12]))+5*(parseInt(b[3])+parseInt(b[13]))+8*(parseInt(b[4])+parseInt(b[14]))+4*(parseInt(b[5])+parseInt(b[15]))+2*(parseInt(b[6])+parseInt(b[16]))+1*parseInt(b[7])+6*parseInt(b[8])+3*parseInt(b[9]),a="10X98765432".substr(a%11,1),a==b[17]?!0:!1):!1;default:return!1}}function A(){var a=P("source");a||(a=Q("xd_source"));a&&q("xd_source",a,365,"/",".xd.com");return a}function R(a){l=null;b.ajax({url:k+"/users/logoutService",dataType:"jsonp",success:function(){b.isFunction(a)?
X(function(){a(l)}):X()}})}function ia(a,f){a=b.trim(a);if(b.isFunction(f)){var c=!1,d="2-20\u4e2a\u4e2d\u82f1\u6587\u6570\u5b57";O!=a?(O=a,2>a.length?(o=c=!1,p=d="\u7528\u6237\u540d\u592a\u77ed\uff0c\u81f3\u5c112\u4f4d",f(j(c,d))):20<a.length?(o=c=!1,p=d="\u7528\u6237\u540d\u592a\u957f\uff0c\u6700\u591a20\u4f4d",f(j(c,d))):a.match(/^[\w_\u3300-\u9fff\uf900-\ufaff]{2,20}$/)?b.ajax({url:k+"/users/check_username",data:{username:a},dataType:"jsonp",success:function(a){switch(a.toString()){case "1":c=
!0;d="\u7528\u6237\u540d\u53ef\u7528";break;case "-1":c=!1;d="2-20\u4e2a\u4e2d\u82f1\u6587\u6570\u5b57";break;case "-3":c=!1,d="\u7528\u6237\u540d\u5df2\u88ab\u6ce8\u518c"}o=c;p=d;f(j(c,d))}}):(o=c=!1,p=d="\u5305\u542b\u975e\u6cd5\u5b57\u7b26\u8bf7\u91cd\u65b0\u8f93\u5165",f(j(c,d)))):f(j(o,p))}}function ja(a){a=b.trim(a);if(6>a.length)return n=a,j(!1,"\u5bc6\u7801\u592a\u77ed\uff0c\u6700\u5c116\u4f4d");if(20<a.length)return n=a,j(!1,"\u5bc6\u7801\u592a\u957f\uff0c\u6700\u591a20\u4f4d");n=a;return j(!0,
"\u5bc6\u7801\u53ef\u7528")}function ka(a){a=b.trim(a);return null==n||""==n?j(!1,"\u8bf7\u522b\u5fd8\u8bb0\u4e0a\u9762\u7684\u5bc6\u7801"):a!=n?j(!1,"\u4e24\u6b21\u5bc6\u7801\u4e0d\u4e00\u81f4"):j(!0,"\u5bc6\u7801\u4e00\u81f4")}function la(a,f){a=b.trim(a);if(b.isFunction(f)){var c=!1,d="\u8bf7\u8f93\u5165\u6b63\u786e\u7684\u7535\u5b50\u90ae\u7bb1";6<a.length&&a.match(/^[A-Z0-9._%+\-]+@(?:[A-Z0-9\-]+\.)+[A-Z]{2,4}$/i)&&(c=!0,d="\u90ae\u7bb1\u53ef\u7528");f(j(c,d))}}function ma(a){a=b.trim(a);return/^[\u3300-\u9fff\uf900-\ufaff]{2,}$/.test(a)?
j(!0,"\u771f\u5b9e\u59d3\u540d"):j(!1,"\u8bf7\u8f93\u5165\u771f\u5b9e\u59d3\u540d")}function na(a){a=b.trim(a);return va(a)?j(!0,"\u6709\u6548\u8eab\u4efd\u8bc1"):j(!1,"\u8bf7\u8f93\u516515\u621618\u4f4d\u6709\u6548\u8eab\u4efd\u8bc1")}function Q(a){for(var a=a+"=",b=document.cookie.split(";"),c=0;c<b.length;c++){for(var d=b[c];" "==d.charAt(0);)d=d.substring(1,d.length);if(0==d.indexOf(a))return decodeURIComponent(d.substring(a.length,d.length))}return null}function q(a,b,c,d,h){if(a){var g="";c&&
(g=new Date,g.setTime(g.getTime()+864E5*c),g="; expires="+g.toGMTString());document.cookie=a+"="+encodeURIComponent(b)+g+(";path="+(d||"/"))+(h?";domain="+h:"")}}function r(a,b,c){q(a,"",-100,b,c)}function P(a){a=a.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");a=RegExp("[\\?&]"+a+"=([^&#]*)").exec(window.location.href);return null==a?"":decodeURIComponent(a[1].replace(/\+/g," "))}function oa(a,f,c,d,h){document.domain="xd.com";window.open(a,c||"open_window","width="+(d||500)+",height="+(h||350)+",menubar=0,scrollbars=1, resizable=1,status=1,titlebar=0,toolbar=0,location=0");
window.child_close_handler=function(a){a&&q("xd[user]",a,30,"/",".xd.com");b.isFunction(f)&&pa(f)}}function da(a){b.isFunction(a)||(a=function(){window.location.reload()});oa(k+"/oauth/qq_login",a,"TencentLogin",694,600);return!1}function pa(a){b.ajax({url:k+"/users/sync_login",dataType:"jsonp",success:function(f){f&&b("body").append("<div>"+f+"</div>");b.isFunction(a)&&setTimeout(function(){try{a()}catch(b){}},100)}})}function X(a){b.ajax({url:k+"/users/sync_logout",dataType:"jsonp",success:function(f){b("body").append("<div>"+
f+"</div>");b.isFunction(a)&&setTimeout(function(){try{a()}catch(b){}},100)}})}function Y(a,f,c){I||(I=!0,xd.getUser(function(d){if(0<d.id)if(b.isFunction(a))a(d);else if(f)window.location=f;else if(c)window.location=xd.getPlayUrl(c);else if(document.referrer)window.location=document.referrer;I=!1},c))}var k="http://www.xd.com";0==window.location.host.indexOf("local.")?k="http://local.www.xd.com":0<window.location.host.indexOf("office.")&&(k="http://www.office.xd.com");var l=null,J=[],s=!1;O=void 0;
o=void 0;p=void 0;n=void 0;var K=[],b;"undefined"==typeof jQuery?ua("http://web.xdcdn.net/xd/js/jquery.js",function(){b=jQuery},!0):b=jQuery;var L,I=!1;A();return{getUser:function(a,f,c){b.isFunction(a)&&(l?a(l):("verycd"!=c&&(c=null),b.ajax({url:k+"/users/getuser",dataType:"jsonp",data:{app:f,site:c},cache:!1,success:function(b){try{b&&0<b.id&&(l=b),a(b)}catch(c){}}})))},login:function(a,f,c,d,h,g,j,H){if(b.isFunction(d)&&b.isFunction(h)){if(l){if(l.username==a){d(l);return}R()}if(!s)if(a=b.trim(a),
f=b.trim(f),a)if(f){"xd"!=j&&"verycd"!=j&&(j="xd");"tdyx"!=g&&"sxd"!=g&&"sssg"!=g&&(g=null);H=H||null;s=!0;var e=setTimeout("logging=false;",1E4);b.ajax({url:k+"/users/loginService",dataType:"jsonp",data:{"data[User][username]":a,"data[User][password]":f,"data[User][remember_me]":Boolean(c),"data[User][site]":j,app:g,captcha:H},cache:!1,success:function(a){s=!1;clearTimeout(e);if(a&&0<a.id)l=a,pa(function(){d(l)});else try{h(a)}catch(b){}}})}else h({error:"\u5bc6\u7801\u4e3a\u7a7a"});else h({error:"\u7528\u6237\u540d\u4e3a\u7a7a"})}},
logout:R,getServers:function(a,f){a&&b.isFunction(f)&&(J[a]?f(J[a]):b.ajax({url:k+"/games/getservers/"+a,dataType:"jsonp",success:function(b){b&&(J[a]=b);f(b)}}))},getPlayUrl:function(a,b){if(!a)return!1;var c=k+"/games/play?app="+a;b&&(c+="&server="+b);return c},checkUsername:ia,checkPassword:ja,checkConfirm:ka,checkEmail:la,checkRealname:ma,checkRealid:na,register:function(a,f,c,d,h,g,l,H){function e(e,x){if(qa)if(x.valid){w[e]=!0;for(i in w)if(!w[i])return;var t={username:a,password:f,confirm:c};
if(d)t.email=d;if(h)t.realname=h;if(g)t.realid=g;var S=A();if(S)t.source=S;b.ajax({url:k+"/users/registerService",success:function(a){0>=a.user?H(j(!1,a.error)):(S&&r("xd_source","/",".xd.com"),l(a))},cache:!1,data:t,dataType:"jsonp"})}else qa=!1,H(x)}a=b.trim(a);f=b.trim(f);c=b.trim(c);d=b.trim(d);h=b.trim(h);g=b.trim(g);if(b.isFunction(l)&&b.isFunction(H)){var w={username:!1,password:!1,confirm:!1};if(d)w.email=!1;if(h)w.realname=!1;if(g)w.realid=!1;var qa=!0;ia(a,function(a){e("username",a)});
e("password",ja(f));e("confirm",ka(c));d&&la(d,function(a){e("email",a)});h&&e("realname",ma(h));g&&e("realid",na(g))}},getCookie:Q,setCookie:q,deleteCookie:r,clearCookie:function(a,b){for(var c=[],d=document.cookie.split(";"),h=0;h<d.length;h++){for(var g=d[h];" "==g.charAt(0);)g=g.substring(1,g.indexOf("="));c.push(g)}for(h in c)r(c[h],a,b)},getSite:function(){value=Q("uidsite");return"xd"==value||"verycd"==value?value:"xd"},setSite:function(a){"xd"!=a&&"verycd"!=a&&(a="xd");q("uidsite",a,3E3,"/",
".xd.com")},bookmarkMe:function(a,b){a=a||"http://www.com";b=b||"\u5fc3\u52a8\u6e38\u620f";window.sidebar?window.sidebar.addPanel(b,a,""):document.all?window.external.AddFavorite(a,b):alert("\u8bf7\u6309 Ctrl + D \u52a0\u5165\u6536\u85cf\u5939")},getParameterByName:P,capitaliseFirstLetter:function(a){return a.charAt(0).toUpperCase()+a.slice(1)},setDomain:function(a){k=a},getPlayedHistory:function(a,f){a&&b.isFunction(f)&&(K[a]?f(K[a]):b.ajax({url:k+"/games/history/"+a,dataType:"jsonp",success:function(b){if(b){for(var d in b)b[d]=
b[d].UserPlayHistory;K[a]=b}f(b)}}))},getCaptchaUrl:function(){return k+"/security/captcha/"+Math.random()},qq_login:da,qq_redirect:function(a){if(!a)a=window.location.href;window.location.href=k+"/oauth/qq_redirect?return="+a},weibo_login:function(a){b.isFunction(a)||(a=function(){window.location.reload()});oa(k+"/oauth/weibo_login",a,"WeiboLogin",585,422);return!1},getdomain:function(){return k},check_password_strongness:function(a){return!a?!1:-1<b.inArray(a,"000000,111111,11111111,112233,123123,123321,123456,12345678,654321,666666,888888,abcdef,abcabc,abc123,a1b2c3,aaa111,123qwe,qwerty,qweasd,admin,password,p@ssword,passwd,iloveyou,5201314,123456,111111,123456789,123123,a636654,3727997,qqq111,a123456,13e4e5sd,aa123456,100200,131313,5897037,2281538,5201314,123abc,196299,456852,wolf8637,qqqqqq,js77777,a520520,qq111111,1qaz2wsx,11111111,lnb5552436,111333,qq123123,xiaohe,216612,zz123456,123456aa,e10adc3949ba59abbe56,556656,az123456,anglang,qq666666,q1w2e3r4,25991314,qq11111,zzzxxx,1989617,4782633,112233abc,qqqaaa,830415,ningbo,336699,wishing,qw5555,1234567,198723,123321,xiao801013,19790219,yuyang11,521326,1314520,abc123456,123456789k,jiangji,l138071,abu131060,484848,dircls128,yuzhiyuan1,a42176488,deng1234,wy1981813,555444,zz12369,uni0728,7758521,5501146,159357,800528sd,tang520qin,123aa123,li222222,hb000000,5211314,456456,123550,123456a,liulan860420,zxcvbnm,tyu78ju,sd123456,121212,666666,1985516,zeng1013,popo999,asdasd,7878456,147258,woaini".split(","))?
1:a.match(/^[0-9a-z]+$/i)?2:3},getSource:A,getCity:function(a){L?a(L):b.ajax({url:k+"/users/getCity",dataType:"jsonp",success:function(b){L=b;a(L)}})},registerForm:function(a,f,c,d,h,g,j,k,e){function w(){xd.checkUsername(B.val(),function(a){m.username=a.valid;var b=a.msg;"undefined"!=typeof e[a.msg]&&(b=e[a.msg]);0<C.length?(0==B.val().length?C.hide().html(b):C.show().html(b),C.removeClass("infoOk infoError"),C.addClass(a.valid?"infoOk":"infoError")):alert(b);y()})}function l(){var a=xd.checkPassword(M.val());
m.password=a.valid;var b=a.msg;if(m.password){var b=M.val(),c="psstWeak";if(b==B.val())b="\u5f3a\u5ea6\u4f4e";else{var d=xd.check_password_strongness(b),b="\u5f3a\u5ea6\u4f4e";2==d?(b="\u5f3a\u5ea6\u4e00\u822c",c="psstNormal",color="#ffca64"):3==d&&(b="\u5f3a\u5ea6\u9ad8",c="psstHigh")}}"undefined"!=typeof e[b]&&(b=e[b]);0<z.length?(0==M.val().length?z.hide():z.html(b).show(),z.removeClass("infoOk infoError psstWeak psstNormal psstHigh"),z.addClass(a.valid?"infoOk":"infoError"),z.addClass(c)):alert(b);
0<N.length&&n();y()}function n(){var a=xd.checkConfirm(N.val());m.confirm=a.valid;var b=a.msg;"undefined"!=typeof e[a.msg]&&(b=e[a.msg]);0<D.length?(0==N.val().length?D.hide():D.html(b).show(),D.removeClass("infoOk infoError"),D.addClass(a.valid?"infoOk":"infoError")):alert(b);y()}function x(){var a="\u8bf7\u518d\u6b21\u8f93\u5165\u5bc6\u7801\uff0c\u786e\u4fdd\u5bc6\u7801\u4e00\u81f4";"undefined"!=typeof e[a]&&(a=e[a]);D.removeClass("infoOk infoError");D.html(a);D.show()}function t(){var a=xd.checkRealname(T.val());
m.realname=a.valid;var b=a.msg;"undefined"!=typeof e[a.msg]&&(b=e[a.msg]);0<E.length?(0==T.val().length?E.hide():E.html(b).show(),E.removeClass("infoOk infoError"),E.addClass(a.valid?"infoOk":"infoError")):alert(b);y()}function S(){var a="\u8bf7\u8f93\u5165\u771f\u5b9e\u59d3\u540d";"undefined"!=typeof e[a]&&(a=e[a]);E.removeClass("infoOk infoError");E.html(a);E.show()}function o(){var a=xd.checkRealid(U.val());m.realid=a.valid;var b=a.msg;"undefined"!=typeof e[a.msg]&&(b=e[a.msg]);0<F.length?(0==
U.val().length?F.hide():F.html(b).show(),F.removeClass("infoOk infoError"),F.addClass(a.valid?"infoOk":"infoError")):alert(b);y()}function p(){var a="\u8bf7\u8f93\u5165\u6709\u6548\u8eab\u4efd\u8bc1";"undefined"!=typeof e[a]&&(a=e[a]);F.removeClass("infoOk infoError");F.html(a);F.show()}function q(){m.realname=!1;m.realid=!1;T.blur(t);U.blur(o);T.focus(S);U.focus(p);s.show();K.show();u.realname=t;u.realid=o}function wa(){s.hide();K.hide()}function ra(){xd.checkEmail(V.val(),function(a){m.email=a.valid;
var b=a.msg;"undefined"!=typeof e[a.msg]&&(b=e[a.msg]);0<G.length?(0==V.val().length?G.hide():G.html(b).show(),G.removeClass("infoOk infoError"),G.addClass(a.valid?"infoOk":"infoError")):alert(b);y()})}function L(){var a="\u5e38\u7528\u7684\u90ae\u7bb1\uff0c\u65b9\u4fbf\u60a8\u627e\u56de\u5bc6\u7801";"undefined"!=typeof e[a]&&(a=e[a]);G.removeClass("infoOk infoError");G.html(a);G.show()}function sa(){m.email=!1;V.blur(ra);V.focus(L);u.email=ra;ea.show()}function O(){ea.hide()}function ta(){m.agreement=
fa.is(":checked");m.agreement?0<Z.length&&Z.hide():("undefined"!=typeof e["\u8bf7\u540c\u610f\u7528\u6237\u534f\u8bae"]&&(msg=e["\u8bf7\u540c\u610f\u7528\u6237\u534f\u8bae"]),0<Z.length?Z.html("\u8bf7\u540c\u610f\u7528\u6237\u534f\u8bae").addClass("infoError").show():alert("\u8bf7\u540c\u610f\u7528\u6237\u534f\u8bae"));y()}function A(){m.agreement=fa.is(":checked");fa.change(ta);ga.show();u.agreement=ta}function Q(){ga.hide()}function r(){var a=P.val();m.captcha=4==a.length;m.captcha?0<$.length&&
$.hide():(a="\u8bf7\u8f93\u51654\u4f4d\u9a8c\u8bc1\u7801","undefined"!=typeof e[a]&&(a=e[a]),0<$.length?$.html(a).addClass("infoError").show():alert(a));y()}function I(){if(aa.is(":hidden"))m.captcha=!1,ba.attr("src",xd.getCaptchaUrl()),ba.click(function(){ba.attr("src",xd.getCaptchaUrl())}),P.blur(r),aa.show(),u.captcha=r}function y(c){"undefined"==typeof c&&(c=!1);var d=!0,f=!0,e;for(e in m)if(!m[e]){d=!1;if(!c)break;var g=a+" ."+e+"Info";if(!b(g).hasClass("infoError")&&b.isFunction(u[e]))u[e]();
var h=a+" ."+e+"Input";if(null==b(h).val()||""==b(h).val()){b(g).removeClass("infoOk infoError");switch(e){case "username":b(g).html("\u8bf7\u522b\u5fd8\u8bb0\u8f93\u5165\u7528\u6237\u540d");break;case "password":b(g).html("\u8bf7\u522b\u5fd8\u8bb0\u8f93\u5165\u5bc6\u7801");break;case "confirm":b(g).html("\u8bf7\u522b\u5fd8\u8bb0\u786e\u8ba4\u5bc6\u7801");break;case "realid":b(g).html("\u8bf7\u522b\u5fd8\u8bb0\u8f93\u5165\u8eab\u4efd\u8bc1");break;case "realname":b(g).html("\u8bf7\u522b\u5fd8\u8bb0\u8f93\u5165\u771f\u5b9e\u59d3\u540d");
break;case "email":b(g).html("\u8bf7\u522b\u5fd8\u8bb0\u8f93\u5165\u7535\u5b50\u90ae\u7bb1")}b(g).show()}f&&(f=!1,b(h).focus())}return d}Y(f,c,d);var J=b(a);if(0!=J.length){var W=b(a+" .usernameField"),B=b(a+" .usernameInput"),C=b(a+" .usernameInfo");if(0!=W.length){var W=b(a+" .passwordField"),M=b(a+" .passwordInput"),z=b(a+" .passwordInfo");if(0!=W.length){var W=b(a+" .confirmField"),N=b(a+" .confirmInput"),D=b(a+" .confirmInfo"),s=b(a+" .realnameField"),T=b(a+" .realnameInput"),E=b(a+" .realnameInfo"),
K=b(a+" .realidField"),U=b(a+" .realidInput"),F=b(a+" .realidInfo"),ea=b(a+" .emailField"),V=b(a+" .emailInput"),G=b(a+" .emailInfo"),ga=b(a+" .agreementField"),fa=b(a+" .agreementInput"),Z=b(a+" .agreementInfo"),aa=b(a+" .captchaField"),P=b(a+" .captchaInput"),ba=b(a+" .captchaImg"),$=b(a+" .captchaInfo");b(a+" .submitInput");var ha=b(a+" .submitInfo"),R=b(a+" .qqField"),m={username:!1,password:!1},u={};e||(e={});B.blur(w);B.focus(function(){var a="2-20\u4e2a\u4e2d\u82f1\u6587\u5b57\u7b26\u3001\u6570\u5b57\u6216\u4e0b\u5212\u7ebf";
"undefined"!=typeof e[a]&&(a=e[a]);C.removeClass("infoOk infoError");C.html(a);C.show()});u.username=w;M.blur(l);M.focus(function(){var a="6-20\u4f4d\u5b57\u7b26(\u5b57\u6bcd,\u6570\u5b57,\u7b26\u53f7)";"undefined"!=typeof e[a]&&(a=e[a]);z.removeClass("infoOk infoError psstWeak psstNormal psstHigh");z.html(a);z.show()});u.password=l;if(0<W.length)m.confirm=!1,N.blur(n),N.focus(x),u.confirm=n;var v=[];0<s.length&&(h?q():v.push([q,wa]));0<ea.length&&(g?sa():v.push([sa,O]));0<ga.length&&(j?A():v.push([A,
Q]));0<aa.length&&k&&I();if(0<v.length)if(window.location.search.match(/(\?|&)ads(=|$|&)/i))for(var X in v)v[X][1]();else xd.getCity(function(a){a=a.substring(0,2);if("\u4e0a\u6d77"==a||"\u5317\u4eac"==a)for(var b in v)v[b][0]();else for(b in v)v[b][1]()});var ca=!1;J.submit(function(){if(ca)return!1;if(!y(!0))return!1;ca=!0;xd.register(B.val(),M.val(),N.val(),V.val(),T.val(),U.val(),function(a){ca=!1;if(b.isFunction(f))f(a);else if(c)window.location=c;else if(d)window.location=xd.getPlayUrl(d);else if(document.referrer)window.location=
document.referrer},function(a){ca=!1;var b=a.msg;"undefined"!=typeof e[b]&&(b=e[b]);"\u9a8c\u8bc1\u7801\u9519\u8bef"==a.msg&&I();aa.is(":visible")&&ba.click();0<ha.length?(ha.html(b).show(),ha.addClass("infoError")):alert(msg)});return!1});B.is(":visible")&&B.focus();0<R.length&&R.click(function(){da(function(){Y(f,c,d)})})}}}},loginForm:function(a,f,c,d,h,g){function j(){x.is(":hidden")&&(p.click(j),x.show());p.attr("src",xd.getCaptchaUrl())}function k(a){"undefined"!=typeof g[a]&&(a=g[a]);0<q.length?
q.html(a).addClass("infoError").show():alert(a)}Y(f,c,d);var e=b(a);if(0!=e.length){var l=b(a+" .usernameInput");if(0!=l.length){var n=b(a+" .passwordInput");if(0!=n.length){var o=b(a+" .rememberInput"),x=b(a+" .captchaField"),t=b(a+" .captchaInput"),p=b(a+" .captchaImg");b(a+" .submitInput");var q=b(a+" .submitInfo"),s=b(a+" .qqField"),A=b(a+" .siteInput").val();g||(g={});0<x.length&&h&&j();var r=!1;e.submit(function(){if(r)return!1;var a=l.val();if(!a)return k("\u8bf7\u8f93\u5165\u7528\u6237\u540d"),
!1;var e=n.val();if(!e)return k("\u8bf7\u8f93\u5165\u5bc6\u7801"),!1;var g="";if(x.is(":visible")&&(g=t.val(),4!=g.length))return k("\u8bf7\u8f93\u51654\u4f4d\u9a8c\u8bc1\u7801"),!1;var h=o.is(":checked");r=!0;xd.login(a,e,h,function(a){r=!1;if(b.isFunction(f))f(a);else if(c)window.location=c;else if(d)window.location=xd.getPlayUrl(d);else if(document.referrer)window.location=document.referrer},function(a){r=!1;a.needCaptcha&&j();k(a.error)},d,A,g);return!1});l.is(":visible")&&l.focus();0<s.length&&
s.click(function(){da(function(){Y(f,c,d)})})}}}}}}();
